package net.anei.cadpage.parsers.VA;

import java.util.Properties;
import java.util.regex.Pattern;

import net.anei.cadpage.parsers.MsgInfo.Data;
import net.anei.cadpage.parsers.dispatch.DispatchOSSIParser;


public class VAGoochlandCountyParser extends DispatchOSSIParser {

  public VAGoochlandCountyParser() {
    super("GOOCHLAND COUNTY", "VA",
           "( CANCEL ADDR | FYI? CALL ADDR! X X ) INFO+");
    setupGpsLookupTable(GPS_LOOKUP_TABLE);
  }

  @Override
  protected boolean parseMsg(String body, Data data) {
    if (!super.parseMsg(body, data)) return false;
    if (data.strAddress.endsWith(" W W") || data.strAddress.endsWith(" E E")) {
      data.strAddress = data.strAddress.substring(0, data.strAddress.length()-2).trim();
    }
    return true;
  }

  private static final Pattern COTTONTAIL_CHSE_PTN = Pattern.compile("\\bCOTTONTAIL CHSE(?: RD)?\\b", Pattern.CASE_INSENSITIVE);

  @Override
  public String adjustMapAddress(String addr) {
    addr = COTTONTAIL_CHSE_PTN.matcher(addr).replaceAll("COTTONTAIL CHASE RD");
    return super.adjustMapAddress(addr);
  }

  private static final Properties GPS_LOOKUP_TABLE = buildCodeTable(new String[] {
      "147 I64 E",                            "+37.905181,-78.056200",
      "148 I64 E",                            "+37.894755,-78.043419",
      "149 I64 E",                            "+37.883998,-78.031149",
      "150 I64 E",                            "+37.873589,-78.018398",
      "151 I64 E",                            "+37.863833,-78.005343",
      "152 I64 E",                            "+37.853220,-77.992465",
      "153 I64 E",                            "+37.842533,-77.980576",
      "154 I64 E",                            "+37.831835,-77.968067",
      "155 I64 E",                            "+37.822171,-77.954323",
      "156 I64 E",                            "+37.813516,-77.939901",
      "157 I64 E",                            "+37.804839,-77.925254",
      "158 I64 E",                            "+37.796755,-77.910301",
      "159 I64 E",                            "+37.787367,-77.896225",
      "159.2 I64 E",                          "+37.785150,-77.893627",
      "159.4 I64 E",                          "+37.783109,-77.891185",
      "159.6 I64 E",                          "+37.780909,-77.888567",
      "159.8 I64 E",                          "+37.778883,-77.886136",
      "160 I64 E",                            "+37.776716,-77.883630",
      "160.2 I64 E",                          "+37.774718,-77.881211",
      "160.4 I64 E",                          "+37.772544,-77.878626",
      "160.6 I64 E",                          "+37.770503,-77.876197",
      "160.8 I64 E",                          "+37.768424,-77.873723",
      "161 I64 E",                            "+37.766337,-77.871239",
      "161.2 I64 E",                          "+37.764132,-77.868577",
      "161.4 I64 E",                          "+37.762149,-77.865963",
      "161.6 I64 E",                          "+37.760297,-77.863295",
      "161.8 I64 E",                          "+37.758477,-77.860523",
      "162 I64 E",                            "+37.756655,-77.857750",
      "162.2 I64 E",                          "+37.754771,-77.854909",
      "162.4 I64 E",                          "+37.752904,-77.852081",
      "162.6 I64 E",                          "+37.751029,-77.849220",
      "162.8 I64 E",                          "+37.749232,-77.846500",
      "163 I64 E",                            "+37.747397,-77.843722",
      "163.2 I64 E",                          "+37.745595,-77.841112",
      "163.4 I64 E",                          "+37.743556,-77.838467",
      "163.6 I64 E",                          "+37.741443,-77.835960",
      "163.8 I64 E",                          "+37.739240,-77.833604",
      "164 I64 E",                            "+37.736831,-77.831267",
      "164.2 I64 E",                          "+37.734530,-77.829142",
      "164.4 I64 E",                          "+37.732201,-77.826980",
      "164.6 I64 E",                          "+37.729809,-77.824777",
      "164.8 I64 E",                          "+37.727477,-77.822629",
      "165 I64 E",                            "+37.725126,-77.820289",
      "165.2 I64 E",                          "+37.722997,-77.817743",
      "165.4 I64 E",                          "+37.721094,-77.815003",
      "165.6 I64 E",                          "+37.719383,-77.812021",
      "165.8 I64 E",                          "+37.717905,-77.808880",
      "166 I64 E",                            "+37.716659,-77.805562",
      "166.2 I64 E",                          "+37.715569,-77.802302",
      "166.4 I64 E",                          "+37.714422,-77.798910",
      "166.6 I64 E",                          "+37.713340,-77.795549",
      "166.8 I64 E",                          "+37.712363,-77.792129",
      "167 I64 E",                            "+37.711496,-77.788580",
      "167.2 I64 E",                          "+37.710655,-77.784902",
      "167.4 I64 E",                          "+37.709917,-77.781649",
      "167.6 I64 E",                          "+37.709100,-77.778249",
      "167.8 I64 E",                          "+37.708207,-77.774897",
      "168 I64 E",                            "+37.707144,-77.771567",
      "168.2 I64 E",                          "+37.706088,-77.768262",
      "168.4 I64 E",                          "+37.705013,-77.764904",
      "168.6 I64 E",                          "+37.703937,-77.761559",
      "168.8 I64 E",                          "+37.702849,-77.758159",
      "169 I64 E",                            "+37.701766,-77.754767",
      "169.2 I64 E",                          "+37.700878,-77.751401",
      "169.4 I64 E",                          "+37.700222,-77.747845",
      "169.6 I64 E",                          "+37.699607,-77.744304",
      "169.8 I64 E",                          "+37.699069,-77.740747",
      "170 I64 E",                            "+37.698498,-77.737135",
      "170.2 I64 E",                          "+37.697905,-77.733413",
      "170.4 I64 E",                          "+37.697320,-77.729754",
      "170.6 I64 E",                          "+37.696752,-77.726228",
      "170.8 I64 E",                          "+37.696200,-77.722765",
      "171 I64 E",                            "+37.695603,-77.719040",
      "171.2 I64 E",                          "+37.694946,-77.715404",
      "171.4 I64 E",                          "+37.694153,-77.711825",
      "171.6 I64 E",                          "+37.693385,-77.708429",
      "171.8 I64 E",                          "+37.692604,-77.705011",
      "172 I64 E",                            "+37.691757,-77.701288",
      "172.2 I64 E",                          "+37.690945,-77.697738",
      "172.4 I64 E",                          "+37.690142,-77.694100",
      "172.6 I64 E",                          "+37.689345,-77.690492",
      "172.8 I64 E",                          "+37.688549,-77.686850",
      "173 I64 E",                            "+37.687780,-77.683340",
      "173.2 I64 E",                          "+37.687011,-77.679829",
      "173.4 I64 E",                          "+37.686150,-77.676489",
      "173.6 I64 E",                          "+37.684962,-77.673088",
      "173.8 I64 E",                          "+37.683656,-77.669986",
      "174 I64 E",                            "+37.681787,-77.666517",
      "174.2 I64 E",                          "+37.680213,-77.664080",
      "174.4 I64 E",                          "+37.678457,-77.661156",
      "174.6 I64 E",                          "+37.676732,-77.658221",
      "175 I64 E",                            "+37.672911,-77.651823",
      "175.2 I64 E",                          "+37.671389,-77.649280",
      "175.4 I64 E",                          "+37.669296,-77.645951",
      "175.6 I64 E",                          "+37.667598,-77.642977",
      "147 I64 W",                            "+37.905525,-78.055755",
      "148 I64 W",                            "+37.895101,-78.042875",
      "149 I64 W",                            "+37.884295,-78.030751",
      "150 I64 W",                            "+37.873950,-78.017800",
      "151 I64 W",                            "+37.864203,-78.004883",
      "152 I64 W",                            "+37.853710,-77.991943",
      "153 I64 W",                            "+37.842816,-77.980159",
      "154 I64 W",                            "+37.832356,-77.967513",
      "155 I64 W",                            "+37.822805,-77.953944",
      "156 I64 W",                            "+37.813898,-77.939336",
      "157 I64 W",                            "+37.805275,-77.924844",
      "158 I64 W",                            "+37.797106,-77.909704",
      "159 I64 W",                            "+37.787201,-77.895111",
      "159.2 I64 W",                          "+37.785006,-77.892424",
      "159.4 I64 W",                          "+37.782867,-77.889898",
      "159.6 I64 W",                          "+37.780738,-77.887340",
      "159.8 I64 W",                          "+37.779014,-77.885251",
      "160 I64 W",                            "+37.776641,-77.882400",
      "160.2 I64 W",                          "+37.774450,-77.879772",
      "160.4 I64 W",                          "+37.772413,-77.877316",
      "160.6 I64 W",                          "+37.770357,-77.874837",
      "160.8 I64 W",                          "+37.768264,-77.872309",
      "161 I64 W",                            "+37.766326,-77.869980",
      "161.2 I64 W",                          "+37.764152,-77.867325",
      "161.4 I64 W",                          "+37.762083,-77.864650",
      "161.6 I64 W",                          "+37.760157,-77.861999",
      "161.8 I64 W",                          "+37.758282,-77.859248",
      "162 I64 W",                            "+37.756513,-77.856518",
      "162.2 I64 W",                          "+37.754644,-77.853625",
      "162.4 I64 W",                          "+37.752928,-77.850975",
      "162.6 I64 W",                          "+37.751012,-77.847993",
      "162.8 I64 W",                          "+37.749177,-77.845148",
      "163 I64 W",                            "+37.747408,-77.842395",
      "163.2 I64 W",                          "+37.745495,-77.839626",
      "163.4 I64 W",                          "+37.743515,-77.837090",
      "163.6 I64 W",                          "+37.741362,-77.834657",
      "163.8 I64 W",                          "+37.739132,-77.832421",
      "164 I64 W",                            "+37.736871,-77.830275",
      "164.2 I64 W",                          "+37.734527,-77.828051",
      "164.4 I64 W",                          "+37.732249,-77.825899",
      "164.6 I64 W",                          "+37.729928,-77.823704",
      "164.8 I64 W",                          "+37.727610,-77.821501",
      "165 I64 W",                            "+37.725380,-77.819136",
      "165.2 I64 W",                          "+37.723335,-77.816579",
      "165.4 I64 W",                          "+37.721416,-77.813742",
      "165.6 I64 W",                          "+37.719736,-77.810786",
      "165.8 I64 W",                          "+37.718195,-77.807493",
      "166 I64 W",                            "+37.717017,-77.804500",
      "166.2 I64 W",                          "+37.715798,-77.800802",
      "166.4 I64 W",                          "+37.714640,-77.797231",
      "166.6 I64 W",                          "+37.713513,-77.793726",
      "166.8 I64 W",                          "+37.712497,-77.790410",
      "167 I64 W",                            "+37.711579,-77.786860",
      "167.2 I64 W",                          "+37.710776,-77.783500",
      "167.4 I64 W",                          "+37.710002,-77.779812",
      "167.6 I64 W",                          "+37.709227,-77.776221",
      "167.8 I64 W",                          "+37.708227,-77.772399",
      "168 I64 W",                            "+37.707157,-77.768932",
      "168.2 I64 W",                          "+37.706118,-77.766037",
      "168.4 I64 W",                          "+37.704966,-77.762736",
      "168.6 I64 W",                          "+37.703776,-77.759305",
      "168.8 I64 W",                          "+37.702674,-77.756059",
      "169 I64 W",                            "+37.701754,-77.752881",
      "169.2 I64 W",                          "+37.700939,-77.749423",
      "169.4 I64 W",                          "+37.700248,-77.745649",
      "169.6 I64 W",                          "+37.699713,-77.742061",
      "169.8 I64 W",                          "+37.699156,-77.738270",
      "170 I64 W",                            "+37.698692,-77.735139",
      "170.2 I64 W",                          "+37.698159,-77.731538",
      "170.4 I64 W",                          "+37.697594,-77.727708",
      "170.6 I64 W",                          "+37.697065,-77.724113",
      "170.8 I64 W",                          "+37.696481,-77.720406",
      "171 I64 W",                            "+37.695861,-77.717171",
      "171.2 I64 W",                          "+37.694987,-77.713297",
      "171.4 I64 W",                          "+37.694207,-77.709837",
      "171.6 I64 W",                          "+37.693403,-77.706311",
      "171.8 I64 W",                          "+37.692655,-77.703012",
      "172 I64 W",                            "+37.692063,-77.700440",
      "172.2 I64 W",                          "+37.691021,-77.695825",
      "172.4 I64 W",                          "+37.690298,-77.692466",
      "172.6 I64 W",                          "+37.689515,-77.688812",
      "172.8 I64 W",                          "+37.688769,-77.685348",
      "173 I64 W",                            "+37.688213,-77.682800",
      "173.2 I64 W",                          "+37.687302,-77.678545",
      "173.4 I64 W",                          "+37.686435,-77.675012",
      "173.6 I64 W",                          "+37.685241,-77.671674",
      "174 I64 W",                            "+37.682124,-77.666080",
      "174.2 I64 W",                          "+37.680570,-77.663428",
      "174.4 I64 W",                          "+37.678814,-77.660504",
      "174.6 I64 W",                          "+37.677090,-77.657569",
      "175 I64 W",                            "+37.673596,-77.651699",
      "175.2 I64 W",                          "+37.671376,-77.647773",
      "175.4 I64 W",                          "+37.670306,-77.645858",
      "175.6 I64 W",                          "+37.668433,-77.642374",
      "25 RT288 N",                           "+37.571155,-77.682241",
      "26 RT288 N",                           "+37.583924,-77.674689",
      "27 RT288 N",                           "+37.596717,-77.667292",
      "28 RT288 N",                           "+37.610278,-77.662908",
      "29 RT288 N",                           "+37.624235,-77.663203",
      "30 RT288 N",                           "+37.638461,-77.663909",
      "31 RT288 N",                           "+37.652444,-77.664198",
      "32 RT288 N",                           "+37.664701,-77.655764",
      "25 RT288 S",                           "+37.571288,-77.682622",
      "26 RT288 S",                           "+37.584095,-77.675231",
      "27 RT288 S",                           "+37.596998,-77.667809",
      "28 RT288 S",                           "+37.610041,-77.663611",
      "29 RT288 S",                           "+37.624533,-77.663843",
      "30 RT288 S",                           "+37.638435,-77.664492",
      "31 RT288 S",                           "+37.652590,-77.664738"
  });
}
